(function(t){function e(e){for(var o,i,s=e[0],c=e[1],l=e[2],u=0,p=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);d&&d(e);while(p.length)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(o=!1)}o&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},r={app:0},a=[];function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var d=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0957":function(t,e,n){"use strict";n("e7c4")},"24fd":function(t,e,n){t.exports=n.p+"img/htwg.b28c1eb5.png"},"419e":function(t,e,n){"use strict";n("8a52")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[n("v-app",[n("navigation"),n("v-main",[n("router-view")],1)],1)],1)},a=[],i=(n("96cf"),n("1da1")),s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",[o("v-app-bar",{attrs:{app:"","clipped-left":""}},[o("v-app-bar-nav-icon",{on:{click:function(e){t.drawer=!t.drawer}}}),o("v-spacer"),o("v-toolbar-title",[o("b",[t._v("Slay")]),t._v(" - G17")])],1),o("v-navigation-drawer",{attrs:{clipped:"",app:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[o("v-list-item",{staticStyle:{"padding-top":"2rem"},attrs:{"two-line":"",to:"/"}},[o("v-list-item-avatar",[o("img",{attrs:{src:n("24fd")}})]),o("v-list-item-content",[o("v-list-item-title",[t._v("HTWG")]),o("v-list-item-subtitle",[t._v("Web Technologies")])],1)],1)]},proxy:!0}]),model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[o("v-divider"),o("v-list-item",{attrs:{to:"/about"}},[o("v-list-item-content",[o("v-list-item-title",[t._v("About / FaQ")])],1)],1),o("v-divider")],1)],1)},c=[],l={name:"Navigation",data:function(){return{drawer:!0}}},d=l,u=n("2877"),p=n("6544"),m=n.n(p),v=n("40dc"),f=n("5bc1"),h=n("ce7e"),g=n("da13"),b=n("8270"),w=n("5d23"),_=n("f774"),y=n("2fa4"),S=n("2a7f"),k=Object(u["a"])(d,s,c,!1,null,null,null),C=k.exports;m()(k,{VAppBar:v["a"],VAppBarNavIcon:f["a"],VDivider:h["a"],VListItem:g["a"],VListItemAvatar:b["a"],VListItemContent:w["a"],VListItemSubtitle:w["b"],VListItemTitle:w["c"],VNavigationDrawer:_["a"],VSpacer:y["a"],VToolbarTitle:S["a"]});var x={name:"App",components:{Navigation:C},data:function(){return{websocket:null}},methods:{accept:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.showUpgradeUI=!1,e.next=3,t.$workbox.messageSW({type:"SKIP_WAITING"});case 3:case"end":return e.stop()}}),e)})))()}},created:function(){var t=this;this.$workbox&&this.$workbox.addEventListener("waiting",(function(){t.showUpgradeUI=!0}))}},O=x,T=n("7496"),E=n("f6c4"),V=Object(u["a"])(O,r,a,!1,null,null,null),M=V.exports;m()(V,{VApp:T["a"],VMain:E["a"]});var $=n("8c4f"),I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[n("v-col",{staticClass:"py-2",attrs:{cols:"12"}},[n("v-btn-toggle",{attrs:{tile:"",color:"deep-purple accent-3",group:"",borderless:""}},[n("v-btn",{attrs:{value:"left"},on:{click:t.buy}},[n("v-icon",{attrs:{left:""}},[t._v(" mdi-currency-usd ")]),n("span",{staticClass:"hidden-sm-and-down"},[t._v("Buy")])],1),n("v-btn",{attrs:{value:"center"},on:{click:t.combine}},[n("v-icon",{attrs:{left:""}},[t._v(" mdi-vector-combine ")]),n("span",{staticClass:"hidden-sm-and-down"},[t._v("Combine")])],1),n("v-btn",{attrs:{value:"center"},on:{click:t.move}},[n("v-icon",{attrs:{left:""}},[t._v(" mdi-arrow-right ")]),n("span",{staticClass:"hidden-sm-and-down"},[t._v("Move")])],1),n("v-btn",{attrs:{value:"center"},on:{click:t.castle}},[n("v-icon",{attrs:{left:""}},[t._v(" mdi-castle ")]),n("span",{staticClass:"hidden-sm-and-down"},[t._v("Castle")])],1),n("v-btn",{attrs:{value:"center"},on:{click:t.balance}},[n("v-icon",{attrs:{left:""}},[t._v(" mdi-pig ")]),n("span",{staticClass:"hidden-sm-and-down"},[t._v("Balance")])],1),n("v-btn",{attrs:{value:"center"},on:{click:t.endturn}},[n("v-icon",{attrs:{left:""}},[t._v(" mdi-clock ")]),n("span",{staticClass:"hidden-sm-and-down"},[t._v("End Turn")])],1),n("v-btn",{attrs:{value:"right"},on:{click:t.surrender}},[n("v-icon",{attrs:{left:""}},[t._v(" mdi-exit-run ")]),n("span",{staticClass:"hidden-sm-and-down"},[t._v("Surrender")])],1),n("v-btn",{attrs:{value:"right"},on:{click:t.undo}},[n("v-icon",{attrs:{left:""}},[t._v(" mdi-undo ")]),n("span",{staticClass:"hidden-sm-and-down"},[t._v("Undo")])],1),n("v-btn",{attrs:{value:"right"},on:{click:t.redo}},[n("v-icon",{attrs:{left:""}},[t._v(" mdi-redo ")]),n("span",{staticClass:"hidden-sm-and-down"},[t._v("Redo")])],1)],1)],1),n("v-banner",{attrs:{"two-line":""},scopedSlots:t._u([{key:"actions",fn:function(){return[n("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.coord0Show,expression:"coord0Show"}],attrs:{text:"",color:"primary",id:"coord0"},on:{click:t.coord0Click}},[t._v(t._s(t.coord0))]),n("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.coord1Show,expression:"coord1Show"}],attrs:{text:"",color:"primary",id:"coord1"},on:{click:t.coord1Click}},[t._v(t._s(t.coord1))])]},proxy:!0}])},[n("v-avatar",{attrs:{slot:"icon",color:t.playerColor,size:"40",id:"playercolor"},slot:"icon"},[n("v-icon",{attrs:{icon:"mdi-gamepad-variant",color:"white"}},[t._v(" mdi-gamepad-variant ")])],1),n("span",{attrs:{id:"playername"}},[t._v(t._s(t.playerName))]),n("span",{attrs:{id:"gameMsg"}},[t._v(t._s(t.message))])],1),n("gameboard")],1)},A=[],R=(n("99af"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"grid-container grey lighten-5",attrs:{"mt-10":""}},t._l(t.fields,(function(e,o){return n("div",{key:o,attrs:{id:o}},[n("v-hover",{scopedSlots:t._u([{key:"default",fn:function(r){var a=r.hover;return[n("v-card",{attrs:{tile:"",color:t.playerMap[e.owner]}},[n("v-img",{staticStyle:{display:"flex","align-items":"center"},attrs:{"max-width":"4vw","min-width":"40",src:t.fieldMap.get(e.owner)}},[n("v-icon",{staticStyle:{display:"flex","justify-content":"center"},attrs:{color:t.gpColor(e),"x-large":""}},[t._v(" "+t._s(t.gamepieceIcon(e.gamepiece,e.owner))+" ")])],1),n("v-fade-transition",[a?n("v-overlay",{attrs:{absolute:"",color:"#036358"}},[n("v-btn",{on:{click:function(e){return t.coordClick(o)}}},[t._v(t._s(t.getIndex(o)))])],1):t._e()],1)],1)]}}],null,!0)})],1)})),0)}),j=[],D=(n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),{name:"Gameboard",data:function(){return{playerMap:["cyan","yellow","green"],pieceMap:new Map([[" ","mdi-circle-small"],["T1","mdi-palm-tree"],["T2","mdi-pine-tree"],["C","mdi-home"],["B","mdi-castle"],["G","mdi-grave-stone"],["1","mdi-account"],["2","mdi-account-multiple"],["3","mdi-account-group"],["4","mdi-alien"]]),fieldMap:new Map([[2,"https://cdn.discordapp.com/attachments/766231770445512715/786534037024014336/ryan-o-connor-tileable-grass.png"],[1,"https://cdn.discordapp.com/attachments/766231770445512715/786534077545185300/dbwm528-78b11079-6ce9-4182-9166-d6c07af7d494.png"],[0,"https://cdn.discordapp.com/attachments/766231770445512715/786534055566376990/f1a7ed42b092b013089dafb1774ef2ea.png"]]),colorMap:new Map([[" 0","transparent"],["T1","green darken-4"],[" 1","brown darken-2"],["C1","brown darken-2"],["B1","brown darken-2"],["G1","brown darken-2"],["T2","green darken-1"],[" 2","blue-grey lighten-2"],["C2","blue-grey lighten-2"],["B2","blue-grey lighten-2"],["G2","blue-grey lighten-2"],["1A","amber darken-4"],["1M","amber darken-1"],["2A","light-green lighten-3"],["2M","light-green darken-4"]])}},methods:{gamepieceIcon:function(t,e){return"T"===t?this.pieceMap.get(t+e):this.pieceMap.get(t)},gpColor:function(t){var e=this.colorMap.get(t.gamepiece+t.owner);return void 0===e&&(e=this.colorMap.get(t.owner+(t.hasMoved?"M":"A"))),e},getIndex:function(t){var e=String.fromCharCode(t%this.columns+65),n=Math.floor(t/this.columns)+1;return e+n},coordClick:function(t){var e=this.getIndex(t);console.log("CLICKED "+e),""===this.$store.state.coord0?this.$store.commit("SET_COORD0",e):""===this.$store.state.coord1&&this.$store.state.coord0!==e?this.$store.commit("SET_COORD1",e):(this.$store.commit("SET_COORD0",e),this.$store.commit("SET_COORD1",""))}},computed:{rows:function(){return this.$store.state.grid.rowIdx},columns:function(){return this.$store.state.grid.colIdx+1},fields:function(){return this.$store.state.grid.fields}},mounted:function(){this.$store.dispatch("getData")}}),N=D,P=(n("419e"),n("8336")),G=n("b0af"),L=n("a523"),B=n("0789"),U=n("ce87"),W=n("132d"),J=n("adda"),q=n("a797"),Y=Object(u["a"])(N,R,j,!1,null,"0ae4b7c0",null),F=Y.exports;m()(Y,{VBtn:P["a"],VCard:G["a"],VContainer:L["a"],VFadeTransition:B["b"],VHover:U["a"],VIcon:W["a"],VImg:J["a"],VOverlay:q["a"]});var H=n("bc3a"),z=n.n(H),K={name:"Main",components:{Gameboard:F},methods:{buy:function(){this.sendCommand("/buy/".concat(this.coord0))},combine:function(){this.sendCommand("/cmb/".concat(this.coord0,"/").concat(this.coord1))},move:function(){this.sendCommand("/mov/".concat(this.coord0,"/").concat(this.coord1))},castle:function(){this.sendCommand("/plc/".concat(this.coord0))},balance:function(){this.sendCommand("/bal/".concat(this.coord0))},endturn:function(){this.sendCommand("/end")},surrender:function(){confirm("Are you sure you want to surrender?")&&this.sendCommand("/ff20")},sendCommand:function(t){z.a.get("http://"+this.$store.state.serverUrl+t).then((function(e){console.log(t+": "+e.statusText)}))},coord0Click:function(){this.$store.commit("SET_COORD0","")},coord1Click:function(){this.$store.commit("SET_COORD1","")},undo:function(){z.a.get("http://"+this.$store.state.serverUrl+"/undo").then((function(t){console.log("undo: "+t.statusText)}))},redo:function(){z.a.get("http://"+this.$store.state.serverUrl+"/redo").then((function(t){console.log("redo: "+t.statusText)}))}},computed:{coord0:function(){return this.$store.state.coord0},coord1:function(){return this.$store.state.coord1},coord0Show:function(){return""!==this.coord0},coord1Show:function(){return""!==this.coord1},message:function(){return this.$store.state.msg},playerName:function(){return this.$store.state.playername},playerColor:function(){return this.$store.state.playercolor}}},Q=K,X=(n("0957"),n("8212")),Z=n("e4e5"),tt=n("a609"),et=n("62ad"),nt=Object(u["a"])(Q,I,A,!1,null,"b051172e",null),ot=nt.exports;m()(nt,{VAvatar:X["a"],VBanner:Z["a"],VBtn:P["a"],VBtnToggle:tt["a"],VCol:et["a"],VIcon:W["a"]});var rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{"mt-10":""}},[n("v-expansion-panels",t._l(t.faq,(function(e,o){return n("v-expansion-panel",{key:o},[n("v-expansion-panel-header",[t._v(" "+t._s(e.question)+" ")]),n("v-expansion-panel-content",[t._v(" "+t._s(e.answer)+" ")])],1)})),1)],1)},at=[],it={name:"About",data:function(){return{faq:[{question:"Ist der Quellcode open-source?",answer:"Ja zu finden auf: https://github.com/MRudi95/de.htwg.wt.Slay"},{question:"Wo findet sich das Original?",answer:"Auf: http://www.windowsgames.co.uk/slay.html"}]}}},st=it,ct=n("cd55"),lt=n("49e2"),dt=n("c865"),ut=n("0393"),pt=Object(u["a"])(st,rt,at,!1,null,null,null),mt=pt.exports;m()(pt,{VContainer:L["a"],VExpansionPanel:ct["a"],VExpansionPanelContent:lt["a"],VExpansionPanelHeader:dt["a"],VExpansionPanels:ut["a"]}),o["a"].use($["a"]);var vt=[{path:"/",name:"Home",component:ot},{path:"/about",name:"About",component:mt}],ft=new $["a"]({routes:vt}),ht=ft,gt=n("2f62"),bt=n("1157"),wt=n.n(bt);o["a"].use(gt["a"]);var _t=new gt["a"].Store({state:{serverUrl:"slay-backend-server.herokuapp.com",grid:[],coord0:"",coord1:"",msg:"Waiting for Player to start ..",playername:"",playercolor:"purple"},mutations:{SET_GRID:function(t,e){t.grid=e,console.log("UPDATED GRID")},SET_COORD0:function(t,e){t.coord0=e},SET_COORD1:function(t,e){t.coord1=e},SET_MSG:function(t,e){t.msg=e},SET_PLAYERNAME:function(t,e){t.playername=e},SET_PLAYERCOLOR:function(t,e){t.playercolor=e}},actions:{getData:function(t){var e=t.commit;z.a.get("https://"+this.state.serverUrl+"/json").then((function(t){e("SET_GRID",t.data)}))}},modules:{},getters:{}}),yt=_t,St=new WebSocket("wss://"+location.host+"/websocket");St.onopen=function(){console.log("[WS] Opening websocket to server .."),this.send("SYN")},St.onmessage=function(t){if("string"===typeof t.data)try{console.log("[WS] Server received: "),console.log(JSON.parse(t.data)),wt.a.each(JSON.parse(t.data),(function(e,n){"fields"===e?_t.commit("SET_GRID",JSON.parse(t.data)):"message"===e?_t.commit("SET_MSG",n):"player"===e&&(_t.commit("SET_PLAYERNAME","It is your turn ".concat(n.playername,"!")),_t.commit("SET_PLAYERCOLOR",n.playercolor))}))}catch(t){console.log("[WS] Got a non-JSON object back ..")}};var kt=n("f309");o["a"].use(kt["a"]);var Ct=new kt["a"]({}),xt=n("2106"),Ot=n.n(xt),Tt=n("9483");console.log("production"),Object(Tt["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),o["a"].config.productionTip=!1,new o["a"]({router:ht,store:yt,vuetify:Ct,VueAxios:Ot.a,axios:z.a,render:function(t){return t(M)}}).$mount("#app")},"8a52":function(t,e,n){},e7c4:function(t,e,n){}});
//# sourceMappingURL=app.d904f02a.js.map